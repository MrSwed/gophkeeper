# GophKeeper

![GophKeeper](https://pictures.s3.yandex.net/resources/gophkeeper_2x_1650456239.png)

## Описание

GophKeeper — это клиент-серверная система для безопасного хранения логинов, паролей и других приватных данных. Основной
функционал сосредоточен в клиентской части, которая позволяет пользователям управлять своими данными. Клиентская часть
может работать без синхронизации с сервером, обеспечивая возможность автономного управления данными. Клиентская часть
хранит данные в папке профиля пользователя, настройки в json файле, а данные в базе sqlite.

## Зависимости

- Go
- Postgres (если не используется Docker)
- Docker и Docker Compose
- make

## Установка

1. Клонируйте этот репозиторий и перейдите в папку с ним:

   ```bash
   git clone <repository-url>
   cd <repository-folder>
   ```

2. Используйте make для сборки и запуска приложений:
    - Для сборки и запуска клиента:

      ```bash
      make run_client
      ```

    - Для сборки и запуска сервера:

      ```bash
      make run_server
      ```

3. Сервер и базу данных можно запустить с помощью Docker Compose:

   ```bash
   make docker-up
   ```

## Функциональные возможности

### Клиентская часть:

- **Справка**: для каждой команды работает справка по флагу `--help` и `-h`.  
  Например: `gophkeeper save --help` или `gophkeeper save card --help`.
- **Шифрование**: Шифрование происходит с помощью случайно сгенерированного ключа шифрования. Этот ключ шифрования
  генерируется один раз, при первой необходимости, шифруется при помощи парольной фразы, которая запрашивается у
  пользователя и сохраняется в настройках профиля. В последующем доступ к ключу шифрования осуществляется через запрос
  парольной фразы.
- **Список сохраненных данных**: получение списка ключей имеющихся сохраненных данных не требует парольной фразы и ключа
  шифрования - отображаются только открытые данные.
- **Запрос данных по ключу**: Пользователи могут получать доступ к своим данным, запрашивая их по уникальному ключу. Для
  этого необходимо ввести парольную фразу, открывающую ключ шифрования для распаковки зашифрованных данных.
- **Синхронизация данных**: Возможность синхронизации данных на указанный в настройках сервер. Данные передаются в том
  же зашифрованном виде, что и хранятся в локальной базе. В настройках пользователя на сервере сохраняется зашифрованный
  парольной фразой ключ шифрования данных. Регистрация на сервере происходит с помощью отдельного пароля синхронизации,
  дальнейшая авторизация с помощью токена клиента, полученного при регистрации.

### Серверная часть

- Регистрация и аутентификация пользователей.
- Хранение зашифрованного ключа шифрования.
- Хранение зашифрованных данных пользователя.
- Синхронизация данных с авторизованными клиентами.

### Примеры использования клиентской части

- **Информация о версиях, справка**

  ```bash
  gophkeeper
  gophkeeper -v
  gophkeeper -h
  gophkeeper [команда] -h
  ```

- **Shell**

  ```bash
  gophkeeper shell
  ```

- **Сохранение данных**:

  ```bash
  gophkeeper save --help
  gophkeeper save bin -f filename -d "описание"
  gophkeeper save card --num 2222-4444-5555-1111 --exp 10/29 --cvv 123 --owner "Max Space"
  gophkeeper save auth -l login -p password -k "my-key-name" -d site.com
  ```

- **Получение данных по ключу**:

  ```bash
  gophkeeper view <key name>
  ```

- **Настройки**

  ```bash
  gophkeeper config global
  gophkeeper config user
  ```

  - **Настройка email, сервера синхронизации**

      ```bash
      gophkeeper config user -e <email>
      gophkeeper config user -s <адрес сервера для синхронизации>
      ```

- **Синхронизация с удаленным сервером**
  - **Регистрация**:

      ```bash
      gophkeeper sync register
      ```

    - **Синхронизация**:

      ```bash
      gophkeeper sync now
      ```

    - **Смена пароля авторизации на сервере**:

      ```bash
      gophkeeper sync password
      ```

    - **Полное удаление аккаунта с сервера**:

      ```bash
      gophkeeper sync delete
      ```

## Лицензия

Этот проект лицензируется в соответствии с условиями [MIT License](LICENSE).
